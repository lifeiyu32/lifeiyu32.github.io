"use strict";(self.webpackChunkreact_blog_admin=self.webpackChunkreact_blog_admin||[]).push([[268],{2904:function(e,n,t){t.r(n),t.d(n,{default:function(){return x}});var r=t(4165),i=t(5861),a=t(9439),c=t(7313),o=t(3690),s=t(8197),u=t(9624),d=t(4293),l=t(6155),f=t(8467),h=t(4721),p=t(6361),j=t(6417),v=o.Z.Search;function x(){var e=(0,f.s0)(),n=(0,c.useState)(""),t=(0,a.Z)(n,2),o=t[0],x=t[1],y=(0,p.WG)().data,Z=void 0===y?[]:y,g=Z.reduce((function(e,n){return e[n.id]=n.username,e}),{}),k=(0,c.useState)([]),m=(0,a.Z)(k,2),b=m[0],w=m[1],S=(0,c.useState)([]),_=(0,a.Z)(S,2),C=_[0],G=_[1],H=(0,c.useState)(!0),T=(0,a.Z)(H,2),D=(T[0],T[1]);return(0,c.useEffect)((function(){var e,n=null===(e=Z.find((function(e){return e.username===o})))||void 0===e?void 0:e.id,t=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(){var t,i,a,c,s,u;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return D(!0),e.next=3,(0,h.Hn)({key:n});case 3:t=e.sent,a=(i=t||{}).feedback,c=void 0===a?[]:a,s=i.share,u=void 0===s?[]:s,void 0===n&&""!==o?(w([]),G([])):(w(c),G(u)),D(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();t()}),[o]),(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(s.Z,{style:{marginTop:50,display:"flex",justifyContent:"center"},children:(0,j.jsx)(v,{placeholder:"\u8bf7\u8f93\u5165\u67e5\u8be2\u7684\u7528\u6237\u540d",allowClear:!0,enterButton:"\u67e5\u8be2",size:"large",onSearch:x,style:{width:500}})}),(0,j.jsxs)(s.Z,{style:{marginTop:50,display:"flex",justifyContent:"space-around"},children:[(0,j.jsx)(u.Z,{span:8,children:(0,j.jsx)(d.Z,{title:"\u6700\u65b0\u5171\u4eab\u7684\u4fe1\u606f",bodyStyle:{height:600,overflow:"auto"},headStyle:{background:"#1877ff",color:"white"},children:C.map((function(n){return(0,j.jsxs)(d.Z.Grid,{style:{width:"100%",cursor:"pointer"},onClick:function(){return e("/feedback?id=".concat(n.id))},children:[(0,j.jsxs)("p",{children:[new Date(n.updated_at).toLocaleString()," "]}),(0,j.jsxs)("p",{children:[(0,j.jsx)("span",{style:{color:"red"},children:g[n.user_id]}),"\u53d1\u5e03\u4e86\u65b0\u4fe1\u606f"]})]},n.id)}))})}),(0,j.jsx)(l.Z,{type:"vertical",style:{height:"auto"}}),(0,j.jsx)(u.Z,{span:8,children:(0,j.jsx)(d.Z,{title:"\u6700\u65b0\u53cd\u9988\u7684\u4fe1\u606f",bodyStyle:{height:600,overflow:"auto"},headStyle:{background:"#1877ff",color:"white"},children:b.map((function(n){return(0,j.jsxs)(d.Z.Grid,{style:{width:"100%",cursor:"pointer"},onClick:function(){return e("/share?id=".concat(n.message_id))},children:[(0,j.jsxs)("p",{children:[new Date(n.updated_at).toLocaleString()," "]}),(0,j.jsxs)("p",{children:[(0,j.jsx)("span",{style:{color:"red"},children:g[n.user_id]}),"\u53cd\u9988\u4e86",(0,j.jsx)("span",{style:{color:"blue"},children:g[n.author_id]}),"\u53d1\u5e03\u7684\u4fe1\u606f"]})]},n.id)}))})})]})]})}},4721:function(e,n,t){t.d(n,{GM:function(){return o},Hn:function(){return u},IH:function(){return c},f4:function(){return s}});var r=t(4925),i=(t(56),t(8538)),a=["id"],c=function(e){return(0,i.j)({url:"/v1/feedback/".concat(e)})},o=function(e){var n=e.id,t=(0,r.Z)(e,a);return(0,i.j)({url:"/v1/feedback/".concat(n),method:"PUT",data:t})},s=function(e){return(0,i.j)({url:"/v1/share/feedbacklist/".concat(e)})},u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,i.j)({url:"/v1/steam/mine",params:e})}}}]);