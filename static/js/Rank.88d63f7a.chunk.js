"use strict";(self.webpackChunkreact_blog_admin=self.webpackChunkreact_blog_admin||[]).push([[300],{6946:function(e,t,a){a.r(t),a.d(t,{default:function(){return f}});var n=a(1413),r=a(9439),i=(a(7313),a(5115)),u=a(6155),o=a(4046),d=a(6361),s=a(56),c=a(8538),l=a(6417),m=[{title:"\u7528\u6237\u540d",dataIndex:"name"},{title:"\u63d0\u4ea4\u6570\u636e\u91cf",dataIndex:"message",sorter:{compare:function(e,t){return e.message-t.message}}},{title:"\u79ef\u5206\u6392\u540d",dataIndex:"rate",sorter:{compare:function(e,t){return e.rate-t.rate}}},{title:"\u53cd\u9988\u6570\u636e\u91cf",dataIndex:"feedback",sorter:{compare:function(e,t){return e.feedback-t.feedback}}}];var f=function(){var e=(0,d.WG)().data,t=(void 0===e?[]:e).reduce((function(e,t){return e[t.id]=t.username,e}),{}),a=(0,s.useQuery)(["rank"],(function(){return(0,c.j)({url:"/v1/rank"})})),f=a.data,p=void 0===f?{}:f,v=a.isLoading,g=v?[]:Object.entries(t).map((function(e){var t,a,n,i=(0,r.Z)(e,2),u=i[0];return{name:i[1],rate:(null===(t=p[u])||void 0===t?void 0:t.rate)||0,message:(null===(a=p[u])||void 0===a?void 0:a.message)||0,feedback:(null===(n=p[u])||void 0===n?void 0:n.feedback)||0}})),b={title:{visible:!0,text:"\u591a\u6298\u7ebf\u56fe"},padding:"auto",forceFit:!0,data:v?[]:g.reduce((function(e,t){var a=t||{},n=a.name,r=a.rate,i=a.message,u=a.feedback;return e.push({name:n,type:"\u79ef\u5206\u6392\u540d",value:r}),e.push({name:n,type:"\u63d0\u4ea4\u6570\u636e\u91cf",value:i}),e.push({name:n,type:"\u53cd\u9988\u6570\u636e\u91cf",value:u}),e}),[]),xField:"name",yField:"value",yAxis:{label:{formatter:function(e){return"".concat(e).replace(/\d{1,3}(?=(\d{3})+$)/g,(function(e){return"".concat(e,",")}))}}},legend:{position:"right-top"},seriesField:"type",color:["#1979C9","#D62A0D","#FAA219"],responsive:!0};return v?null:(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(i.Z,{columns:m,dataSource:g,pagination:!1,style:{marginBottom:50}}),(0,l.jsx)(u.Z,{}),(0,l.jsx)(o.Z,(0,n.Z)({},b))]})}}}]);