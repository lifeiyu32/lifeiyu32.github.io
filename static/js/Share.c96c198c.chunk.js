"use strict";(self.webpackChunkreact_blog_admin=self.webpackChunkreact_blog_admin||[]).push([[366],{6371:function(e,n,t){t.r(n);var r=t(4165),i=t(5861),a=t(9439),u=t(1413),d=t(7313),s=t(8197),c=t(9624),o=t(4293),l=t(6155),f=t(5115),h=t(8467),v=t(7719),m=t(6361),j=t(4721),x=t(8774),p=t(6417);function b(e,n){return[(0,u.Z)({key:"fb1",value:e.ip},n.fb1),(0,u.Z)({key:"fb2",value:e.domain},n.fb2),(0,u.Z)({key:"fb3",value:e.md5},n.fb3)]}n.default=function(){var e=(0,v.K5)(),n=e.data,t=(n=void 0===n?{}:n).data,u=void 0===t?[]:t,g=e.isLoading,Z=(0,d.useState)(null),y=(0,a.Z)(Z,2),k=y[0],w=y[1],S=(0,d.useState)([]),I=(0,a.Z)(S,2),_=I[0],L=I[1],M=(0,h.TH)(),G=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(n){var t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return w(n),e.next=3,(0,j.f4)(n.id);case 3:t=e.sent,L((null===t||void 0===t?void 0:t.data)||[]);case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();(0,d.useEffect)((function(){var e=new URLSearchParams(M.search).get("id");if(e){var n=u.find((function(n){return n.id===+e}));n&&G(n)}}),[u,M.search]);var H=(0,x.i)().admin,P=(0,m.WG)({excludeId:H.id}).data,C=(void 0===P?[]:P).reduce((function(e,n){return e[n.id]=n.username,e}),{});return g?null:(0,p.jsxs)(s.Z,{children:[(0,p.jsx)(c.Z,{span:8,children:u.length?(0,p.jsx)(o.Z,{title:"\u53cd\u9988\u4fe1\u606f",bodyStyle:{height:600,overflow:"auto"},headStyle:{background:"#1877ff",color:"white"},children:u.map((function(e){return(0,p.jsxs)(o.Z.Grid,{style:{width:"100%",cursor:"pointer"},onClick:function(){return G(e)},children:[(0,p.jsxs)("p",{children:[C[e.user_id],"\u5171\u4eab\u7684\u4fe1\u606f"]}),(0,p.jsxs)("p",{children:[e.ip,", ",e.domain,", ",e.md5]})]},e.id)}))}):(0,p.jsx)("p",{children:"\u8fd9\u91cc\u7a7a\u7a7a\u5982\u4e5f..."})}),k?(0,p.jsxs)(c.Z,{span:15,offset:1,children:[(0,p.jsx)(o.Z,{bodyStyle:{height:60},children:"".concat(C[k.user_id],"\u5171\u4eab\u7684\u4fe1\u606f")}),(0,p.jsx)(l.Z,{dashed:!0}),(0,p.jsxs)(o.Z,{bodyStyle:{minHeight:100},children:[(0,p.jsxs)("p",{children:["IP: ",k.ip]}),(0,p.jsxs)("p",{children:["\u57df\u540d: ",k.domain]}),(0,p.jsxs)("p",{children:["MD5: ",k.md5]})]}),(0,p.jsx)(l.Z,{dashed:!0}),_.map((function(e){return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(f.Z,{bordered:!0,dataSource:b(k,e),columns:(n=C[e.user_id],[{title:"".concat(n,"\u53cd\u9988\u7684\u4fe1\u606f"),dataIndex:"value",width:"15%"},{title:"\u60c5\u51b51",dataIndex:"case1",width:"15%",editable:!0},{title:"\u60c5\u51b52",dataIndex:"case2",width:"15%",editable:!0},{title:"\u60c5\u51b53",dataIndex:"case3",width:"15%",editable:!0},{title:"\u5907\u6ce8",dataIndex:"note",width:"20%",editable:!0}]),pagination:!1}),(0,p.jsx)(l.Z,{dashed:!0})]});var n}))]}):null]})}},4721:function(e,n,t){t.d(n,{GM:function(){return d},Hn:function(){return c},IH:function(){return u},f4:function(){return s}});var r=t(4925),i=(t(56),t(8538)),a=["id"],u=function(e){return(0,i.j)({url:"/v1/feedback/".concat(e)})},d=function(e){var n=e.id,t=(0,r.Z)(e,a);return(0,i.j)({url:"/v1/feedback/".concat(n),method:"PUT",data:t})},s=function(e){return(0,i.j)({url:"/v1/share/feedbacklist/".concat(e)})},c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,i.j)({url:"/v1/steam/mine",params:e})}},7719:function(e,n,t){t.d(n,{A6:function(){return s},K5:function(){return a},YG:function(){return d},tn:function(){return u}});var r=t(56),i=t(8538),a=function(){return(0,r.useQuery)(["shareMessageList"],(function(){return(0,i.j)({url:"/v1/message/sharelist"})}))},u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,i.j)({url:"/v1/message",method:"POST",data:e})},d=function(){return(0,r.useQuery)(["mineMessageList"],(function(){return(0,i.j)({url:"/v1/message/mine"})}))},s=function(){return(0,r.useQuery)(["allMessageList"],(function(){return(0,i.j)({url:"/v1/message/all"})}))}}}]);